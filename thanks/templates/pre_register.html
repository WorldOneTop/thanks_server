<!DOCTYPE html>
<html lang="ko">

<head>
    <title>사전 등록</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdn.rawgit.com/moonspam/NanumSquare/master/nanumsquare.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>

    <style type="text/css" rel="stylesheet">
        body {
            background-color: #fafaf2;
        }

        .footer {
            font-size: small;
            background-color: #f3f1eb;
        }

        .application-form {
            max-width: 540PX;
            border-radius: 8px;
            border-radius: 12px;
            background: #ffffff;
            box-shadow: 0px 12px 36px #0000002a;
        }

        .table-size {
            max-width: 640PX;
        }

        .popover {
            position: absolute;
            margin-left: 0;
            margin-right: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div class="container mt-5">
        <h2 class="text-center">한림 감사운동</h2>
        <h1 class="text-center">🎉 사전등록 📝</h1>
    </div>
    <div class="container-sm mt-5">
        <p class="text-center">
            한림 감사운동 멘토링을 통해 정신 건강을 함양하고 긍정적인 마음을 길러보세요.
        </p>
    </div>
    <div class="container-sm mt-5 table-size">
        <table class="table table-bordered align-middle">
            <tr>
                <th>모집 기간</th>
                <td>
                    <ul>
                        <li>모집: 2022.03.07 (월) 10:00</li>
                        <li>마감: 2022.06.20 (월) 18:00</li>
                        <li>발표: 2022.06.22 (수) 18:00</li>
                    </ul>
                </td>
            </tr>
            <tr>
                <th>지원 자격</th>
                <td>
                    <ul>
                        <li>2022학년도 2학기에 재학생으로 활동 가능한 한림대학교 학생</li>
                    </ul>
                </td>
            </tr>
            <tr>
                <th>멘토링 계획</th>
                <td>
                    <ul>
                        <li>2022년 1학기: 감사 운동 멘토 사전등록</li>
                        <li>2022년 여름학기: 감사 멘티 모집</li>
                        <li>2022년 2학기: 감사 운동 멘토링 시작</li>
                    </ul>
                    * 감사 운동 멘토링 앱(안드로이드, iOS)은 여름학기 중 출시됩니다.
                </td>
            </tr>
        </table>
    </div>
    <div class="container-sm mt-5 mb-5 p-3">
        <p class="text-center">
            아래 신청서를 작성하여 사전등록할 수 있습니다.
        </p>
    </div>
    <div class="container-sm">
        <div class="container-fluid mt-5 mb-5 ms-auto me-auto p-3 application-form">
            <form onsubmit="return checkValid()" action="preRegisterUpload/" method="POST" id="submitForm">
                {% csrf_token %}
                <label for="inputStudentInfo" class="form-label">학적</label>
                <div class="mb-3 g-3" id="inputStudentInfo">
                    <div class="mb-3 input-group">
                        <label for="studentNumber" class="input-group-text">학번</label>
                        <input type="text" class="form-control" name="studentNumber" id="studentNumber" required pattern="20[0-9]{6}$">
                    </div>
                    <div class="mb-3 input-group">
                        <label for="studentDept" class="input-group-text">학과</label>
                        <input type="text" class="form-control" id="studentDept" name="studentDept" required>
                    </div>
                </div>
                <label for="inputStudentInfo" class="form-label">이름</label>
                <div class="mb-3 input-group">
                    <label for="studentName" class="input-group-text">이름</label>
                    <input type="text" class="form-control" id="studentName" name="studentName" required>
                </div>
                <div class="form-text mb-3">학적 정보가 다를 경우 거절될 수 있습니다.</div>
                <div class="mb-3 input-group">
                    <label for="phoneNumber" class="input-group-text">전화번호</label>
                    <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" required pattern="^\d{3}\d{3,4}\d{4}$">
                </div>
                <div class="form-text mb-3">연락을 받을 전화번호를 입력해 주세요.<br>올바르지 않은 번호를 입력 시 거절될 수 있습니다.</div>
                <div class="mb-3">
                    <label for="passwd" class="form-label">비밀번호</label>
                    <input type="password" class="form-control" id="passwd" name="passwd" placeholder="비밀번호" required>
                    <input type="password" class="form-control mt-2" id="passwdCheck" placeholder="비밀번호 확인" required>
                    <div id="passwdHelp" class="form-text">학생정보시스템의 비밀번호를 입력해 주십시오. <br><a href="#">비밀번호 찾기</a></div>
                </div>
                <div class="mt-4 mb-4">
                    <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#warningModal">주의사항</button><span id ="warningModalSpan"></span>
                    <br>
                    <div class="form-text">주의사항을 읽고 확인해주세요.</div>
                </div>
                <button type="submit" class="btn btn-primary">사전등록 신청</button>
            </form>
        </div>
    </div>
    <div class="container mt-5 mb-5 p-3">


    </div>

    <div class="modal fade" id="warningModal" tabindex="-1" aria-labelledby="warningModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="warningModalLabel">주의사항</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">비동의</button>
                    <button type="button" class="btn btn-primary" onclick="onWarningConfirmClicked()" data-bs-dismiss="modal">동의</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid mt-5 p-5 text-center footer">
        <span>한림대학교 감사운동</span>
        <br><span>한림 Become sub-system</span>
        <br><span>관리 책임자 홍길동 (학생지원팀 033-000-0000)</span>
        <br><span><a href="#">개인정보처리방침</a></span>
        <br><span><a href="#">오류 및 문제 신고</a></span>
    </div>
</body>
<script type="text/javascript" rel="javascript">
    var warningConfirmed = false;

    function onWarningConfirmClicked() {
        document.getElementById("warningModalSpan").textContent="   ✔️";
        warningConfirmed = true;
    }

    function checkValid() {
        var studentNumber = document.getElementById('studentNumber').value.trim();
        var studentDept = document.getElementById('studentDept').value.trim();
        var studentName = document.getElementById('studentName').value.trim();
        var phoneNumber = document.getElementById('phoneNumber').value.trim();
        var passwd = document.getElementById('passwd').value.trim();
        var passwdCheck = document.getElementById('passwdCheck').value.trim();

        if (studentNumber.length == 0) {
            alert('학번을 입력하세요.');
            return false;
        }

        if (studentDept.length == 0) {
            alert('학과를 입력하세요.');
            return false;
        }

        if (studentName.length == 0) {
            alert("이름을 입력하세요.");
            return false;
        }

        if (phoneNumber.length == 0) {
            alert("전화번호를 입력하세요. 올바른 전화번호가 아닐 경우 임의 취소될 수 있습니다.");
            return false;
        }

        if (passwd.length == 0) {
            alert('비밀번호를 입력하세요.');
            return false;
        }

        if (passwdCheck.length == 0 || passwd != passwdCheck) {
            alert('입력한 비밀번호를 확인해 주세요.');
            return false;
        }

        if (!warningConfirmed) {
            alert('주의사항을 읽고 동의해주세요.');
            return false;
        }

        return true;
    }
</script>

</html>
